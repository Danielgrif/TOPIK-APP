<!-- Filter Panel (hidden by default) -->
<div id="filter-panel">
  <div class="filter-panel-header">
    <div style="display: flex; align-items: center; gap: 12px;">
        <h3>🔍 Фильтры</h3>
        <button class="btn-text" data-action="reset-filters" style="font-size: 13px; background: var(--surface-2); padding: 6px 12px; border-radius: 8px;">↺ Сброс</button>
    </div>
    <button class="btn btn-icon close-modal-btn" data-action="toggle-filter-panel">✕</button>
  </div>
  <div class="filter-panel-content">
    <div class="filter-section">
      <div class="filter-label">Тип контента</div>
      <div class="segment-control" id="type-filters">
          <button class="segment-btn active" data-action="set-type-filter" data-value="word">📖 Слова</button>
          <button class="segment-btn" data-action="set-type-filter" data-value="grammar">📘 Грамматика</button>
      </div>
    </div>
    <div class="filter-section">
      <div class="filter-label">Уровень сложности</div>
      <div class="filter-chips" id="level-filters">
          <button class="filter-chip active" data-action="set-star-filter" data-value="all">Все</button>
          <button class="filter-chip" data-action="set-star-filter" data-value="★★★">★★★</button>
          <button class="filter-chip" data-action="set-star-filter" data-value="★★☆">★★☆</button>
          <button class="filter-chip" data-action="set-star-filter" data-value="★☆☆">★☆☆</button>
          <button class="filter-chip fav-chip" data-action="set-star-filter" data-value="favorites">❤️ Избранное</button>
          <button class="filter-chip mistake-chip" data-action="set-star-filter" data-value="mistakes">⚠️ Ошибки</button>
      </div>
    </div>
    <div class="filter-section">
      <div class="filter-label">Тема</div>
      <button id="topic-filter-btn" class="search-box" style="text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" data-modal-target="topic-modal"><span>Все темы</span> <span>›</span></button>
    </div>
    <div class="filter-section">
      <div class="filter-label">Категория</div>
      <button id="category-filter-btn" class="search-box" style="text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" data-modal-target="category-modal"><span>Все категории</span> <span>›</span></button>
    </div>
    <div class="filter-section">
      <div class="filter-label">Коллекции</div>
      <button id="collection-filter-btn" class="search-box" style="text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" data-action="open-collections-filter"><span>Все слова</span> <span>›</span></button>
    </div>
    <div class="filter-section">
      <div class="filter-label">Сортировка</div>
      <div class="sort-actions">
        <button class="sort-btn" data-action="sort-topic"><span class="sort-icon">🏷️</span><span>По темам</span></button>
        <button class="sort-btn" data-action="sort-weak"><span class="sort-icon">💪</span><span>Слабые</span></button>
        <button class="sort-btn" data-action="shuffle"><span class="sort-icon">🔀</span><span>Перемешать</span></button>
      </div>
    </div>
  </div>
</div>
<div id="filter-panel-overlay" data-action="toggle-filter-panel"></div>