<!-- Collections Management Modal -->
<div id="collections-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üìÇ –ú–æ–∏ —Å–ø–∏—Å–∫–∏</h2>
      <button class="btn-icon close-modal-btn" data-close-modal="collections-modal">‚úï</button>
    </div>
    <div class="modal-body">
      <!-- Create New List -->
      <div class="create-list-section" style="background: var(--surface-2); padding: 15px; border-radius: 12px; margin-bottom: 20px;">
        <div style="font-weight: bold; margin-bottom: 10px;">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–ø–∏—Å–æ–∫</div>
        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
          <input type="text" id="new-list-icon" class="input" placeholder="Emoji" style="width: 60px; text-align: center;" maxlength="2">
          <input type="text" id="new-list-title" class="input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞" style="flex: 1;">
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <label class="checkbox-label" style="font-size: 14px;">
            <input type="checkbox" id="new-list-public"> üåê –ü—É–±–ª–∏—á–Ω—ã–π
          </label>
          <button class="btn btn-primary" data-action="create-list">‚ûï –°–æ–∑–¥–∞—Ç—å</button>
        </div>
      </div>

      <!-- Lists Container -->
      <div id="collections-list" class="collections-list" style="display: flex; flex-direction: column; gap: 10px; max-height: 400px; overflow-y: auto;">
        <!-- Lists will be injected here -->
      </div>
    </div>
  </div>
</div>

<!-- Edit List Modal -->
<div id="edit-list-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫</h2>
      <button class="btn-icon close-modal-btn" data-close-modal="edit-list-modal">‚úï</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="edit-list-id">
      <div style="display: flex; gap: 10px; margin-bottom: 20px;">
        <input type="text" id="edit-list-icon" class="input" placeholder="Emoji" style="width: 60px; text-align: center;" maxlength="2">
        <input type="text" id="edit-list-title" class="input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞" style="flex: 1;">
      </div>
      <button class="btn btn-primary" style="width: 100%;" data-action="save-list-changes">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<!-- Add To List Modal (Used in ui_card.ts and ui_bulk.ts) -->
<div id="add-to-list-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>üìÇ –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫</h2>
      <button class="btn-icon close-modal-btn" data-close-modal="add-to-list-modal">‚úï</button>
    </div>
    <div class="modal-body">
      <div id="add-to-list-content" style="display: flex; flex-direction: column; gap: 10px; max-height: 400px; overflow-y: auto;">
        <!-- Checkboxes will be injected here -->
      </div>
    </div>
  </div>
</div>